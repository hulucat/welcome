
<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- 上述3个meta标签*必须*放在最前面，任何其他内容都*必须*跟随其后！ -->
    <meta name="description" content="">
    <meta name="author" content="">
    <title>VM模拟</title>
    <!-- Bootstrap core CSS -->
    <link href="http://cdn.bootcss.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet">
  </head>
  <body>
    <div id="header"></div>
    <div class="container">
    	<div class="row">
    		<img src="/Users/wangzheng/dev/go/src/welcome/1.jpg" />
    	<div>
      	<div id="out" class="row">
        	
      	</div>
    </div>
<script src="http://cdn.bootcss.com/jquery/1.11.3/jquery.min.js"></script>
<script src="http://cdn.bootcss.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
<script>
var ws;
$(function(){
	bindEvents();
	initWs();
});
function initWs(){
	ws = new WebSocket("ws://127.0.0.1:9090/face");
	ws.onopen = function(){
		$("#out").append("WebSocket is open <br>")
	};
	ws.onmessage = function(evt){
		$("#out").append("Msg received: "+evt.data + "<br>");
		handleDown(evt.data);
	};
	ws.onclose = function(evt){
		$("#out").append("websocket closed <br>");
	};
	ws.onerror = function(evt){
		$("#out").append("websocket error<br>");
	};
}
function handleDown(data){
	var msg = eval('(' + data + ')');
	for(var i in msg){
		var face = msg[i];
		//alert("age: "+face.age+", gender: "+ face.gender+", glass: "+ face.glass)
	}
}
function bindEvents(){

}
</script>
</body>
</html>